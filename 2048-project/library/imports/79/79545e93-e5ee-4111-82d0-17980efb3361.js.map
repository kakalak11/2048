{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\windowScript.js"],"names":["cc","Class","extends","Component","properties","menuNode","Node","score","gameBoard","winBoard","loseBoard","_playing","onClickPlayButton","node","runAction","moveTo","easing","easeExponentialInOut","getComponent","_setupGrid","onClickMenuButton","_scoreUpdate","gameMatrix","_tilesMatrix","flat","scoreNumber","forEach","element","number","string","_win","emit","_lose","onClickReturnButton","_reset","onLoad","on","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAUL,GAAGM,IADL;AAERC,eAAOP,GAAGM,IAFF;AAGRE,mBAAWR,GAAGM,IAHN;AAIRG,kBAAUT,GAAGM,IAJL;AAKRI,mBAAWV,GAAGM,IALN;AAMRK,kBAAU;AANF,KAHP;;AAYL;;AAEAC,uBAAmB,6BAAY;AAC3B,aAAKC,IAAL,CAAUC,SAAV,CAAoBd,GAAGe,MAAH,CAAU,GAAV,EAAe,CAAf,EAAkB,CAAlB,EAAqBC,MAArB,CAA4BhB,GAAGiB,oBAAH,CAAwB,GAAxB,CAA5B,CAApB;AACA,aAAKT,SAAL,CAAeU,YAAf,CAA4B,WAA5B,EAAyCC,UAAzC,CAAoD,KAAKR,QAAzD;AACA,aAAKA,QAAL,GAAgB,IAAhB;AACH,KAlBI;;AAoBLS,uBAAmB,6BAAY;AAC3B,aAAKP,IAAL,CAAUC,SAAV,CAAoBd,GAAGe,MAAH,CAAU,GAAV,EAAe,CAAC,GAAhB,EAAqB,CAArB,EAAwBC,MAAxB,CAA+BhB,GAAGiB,oBAAH,CAAwB,GAAxB,CAA/B,CAApB;AACH,KAtBI;;AAwBLI,kBAAc,wBAAY;AAAA;;AACtB,aAAKC,UAAL,GAAkB,KAAKd,SAAL,CAAeU,YAAf,CAA4B,WAA5B,EAAyCK,YAAzC,CAAsDC,IAAtD,EAAlB;AACA,aAAKC,WAAL,GAAmB,CAAnB;AACA,aAAKH,UAAL,CAAgBI,OAAhB,CAAwB;AAAA,mBAAW,MAAKD,WAAL,IAAoBE,QAAQT,YAAR,CAAqB,aAArB,EAAoCU,MAAnE;AAAA,SAAxB;AACA,aAAKrB,KAAL,CAAWW,YAAX,CAAwB,UAAxB,EAAoCW,MAApC,GAA6C,KAAKJ,WAAlD;AACH,KA7BI;;AA+BLK,UAAM,gBAAY;AACd,aAAKrB,QAAL,CAAcsB,IAAd,CAAmB,UAAnB;AACA,aAAKpB,QAAL,GAAgB,KAAhB;AACH,KAlCI;;AAoCLqB,WAAO,iBAAY;AACf,aAAKtB,SAAL,CAAeqB,IAAf,CAAoB,WAApB;AACA,aAAKpB,QAAL,GAAgB,KAAhB;AACH,KAvCI;;AAyCLsB,yBAAqB,+BAAY;AAC7B,aAAKzB,SAAL,CAAe0B,MAAf;AACA;AACH,KA5CI;;AA8CLC,UA9CK,oBA8CI;AACL,aAAKtB,IAAL,CAAUuB,EAAV,CAAa,aAAb,EAA4B,KAAKf,YAAjC,EAA+C,IAA/C;AACA,aAAKR,IAAL,CAAUuB,EAAV,CAAa,KAAb,EAAoB,KAAKN,IAAzB,EAA+B,IAA/B;AACA,aAAKjB,IAAL,CAAUuB,EAAV,CAAa,MAAb,EAAqB,KAAKJ,KAA1B,EAAiC,IAAjC;AACH,KAlDI;AAoDLK,SApDK,mBAoDG,CAEP;AAtDI;;AAwDL;AAxDJ","file":"windowScript.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        menuNode: cc.Node,\r\n        score: cc.Node,\r\n        gameBoard: cc.Node,\r\n        winBoard: cc.Node,\r\n        loseBoard: cc.Node,\r\n        _playing: null,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onClickPlayButton: function () {\r\n        this.node.runAction(cc.moveTo(0.5, 0, 0).easing(cc.easeExponentialInOut(0.5)))\r\n        this.gameBoard.getComponent('gameBoard')._setupGrid(this._playing);\r\n        this._playing = true;\r\n    },\r\n\r\n    onClickMenuButton: function () {\r\n        this.node.runAction(cc.moveTo(0.5, -500, 0).easing(cc.easeExponentialInOut(0.5)));\r\n    },\r\n\r\n    _scoreUpdate: function () {\r\n        this.gameMatrix = this.gameBoard.getComponent('gameBoard')._tilesMatrix.flat();\r\n        this.scoreNumber = 0;\r\n        this.gameMatrix.forEach(element => this.scoreNumber += element.getComponent('tilesScript').number);\r\n        this.score.getComponent('cc.Label').string = this.scoreNumber;\r\n    },\r\n\r\n    _win: function () {\r\n        this.winBoard.emit('winBoard');\r\n        this._playing = false;\r\n    },\r\n\r\n    _lose: function () {\r\n        this.loseBoard.emit('loseBoard');\r\n        this._playing = false;\r\n    },\r\n\r\n    onClickReturnButton: function () {\r\n        this.gameBoard._reset();\r\n        return;\r\n    },\r\n\r\n    onLoad() {\r\n        this.node.on('updateScore', this._scoreUpdate, this);\r\n        this.node.on('win', this._win, this);\r\n        this.node.on('lose', this._lose, this);\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}