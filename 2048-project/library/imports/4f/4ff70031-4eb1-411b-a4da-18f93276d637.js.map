{"version":3,"sources":["..\\..\\..\\..\\assets\\script/assets\\script\\keyboardScript.js"],"names":["cc","Class","extends","Component","properties","_canMove","_onKeyDown","event","node","emit","keyCode","macro","KEY","a","d","w","s","_reset","log","systemEvent","on","SystemEvent","EventType","KEY_DOWN","onLoad","value","touch","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAU;AADF,KAHP;;AAOL;;AAEAC,gBAAY,oBAAUC,KAAV,EAAiB;AACzB,aAAKC,IAAL,CAAUC,IAAV,CAAe,UAAf,EAA0B,KAA1B;AACA,YAAI,CAAC,KAAKJ,QAAV,EAAoB;AACpB,aAAKA,QAAL,GAAgB,KAAhB;AACA,gBAAQE,MAAMG,OAAd;AACI,iBAAKV,GAAGW,KAAH,CAASC,GAAT,CAAaC,CAAlB;AACI,qBAAKL,IAAL,CAAUC,IAAV,CAAe,SAAf,EAA0B,KAA1B;AACA;AACJ,iBAAKT,GAAGW,KAAH,CAASC,GAAT,CAAaE,CAAlB;AACI,qBAAKN,IAAL,CAAUC,IAAV,CAAe,SAAf,EAA0B,IAA1B;AACA;AACJ,iBAAKT,GAAGW,KAAH,CAASC,GAAT,CAAaG,CAAlB;AACI,qBAAKP,IAAL,CAAUC,IAAV,CAAe,aAAf,EAA8B,KAA9B;AACA;AACJ,iBAAKT,GAAGW,KAAH,CAASC,GAAT,CAAaI,CAAlB;AACI,qBAAKR,IAAL,CAAUC,IAAV,CAAe,aAAf,EAA8B,IAA9B;AACA;AACJ;AACI,qBAAKJ,QAAL,GAAgB,IAAhB;AACA;;AAfR;AAkBH,KA/BI;;AAiCLY,UAjCK,oBAiCI;AACLjB,WAAGkB,GAAH,CAAO,gBAAP;AACAlB,WAAGmB,WAAH,CAAeC,EAAf,CAAkBpB,GAAGqB,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKjB,UAA1D,EAAsE,IAAtE;AACH,KApCI;AAsCLkB,UAtCK,oBAsCI;AAAA;;AACL,aAAKnB,QAAL,GAAgB,IAAhB;AACA,aAAKG,IAAL,CAAUY,EAAV,CAAa,SAAb,EAAwB,YAAkB;AAAA,gBAAjBK,KAAiB,uEAAT,IAAS;;AACtC,kBAAKpB,QAAL,GAAgBoB,KAAhB;AACH,SAFD,EAEG,IAFH;AAGA,aAAKjB,IAAL,CAAUY,EAAV,CAAa,OAAb,EAAsB,KAAKH,MAA3B,EAAmC,IAAnC;AACA,aAAKT,IAAL,CAAUY,EAAV,CAAa,UAAb,EAAyB,UAACM,KAAD,EAAW;AAChC,gBAAIA,KAAJ,EAAW,MAAKrB,QAAL,GAAgB,KAAhB;AAEd,SAHD,EAGG,IAHH;AAIAL,WAAGmB,WAAH,CAAeC,EAAf,CAAkBpB,GAAGqB,WAAH,CAAeC,SAAf,CAAyBC,QAA3C,EAAqD,KAAKjB,UAA1D,EAAsE,IAAtE;AACH,KAjDI;AAmDLqB,SAnDK,mBAmDG,CAEP;AArDI;;AAuDL;AAvDJ","file":"keyboardScript.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        _canMove: true,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    _onKeyDown: function (event) {\r\n        this.node.emit('setInput',false);\r\n        if (!this._canMove) return;\r\n        this._canMove = false;\r\n        switch (event.keyCode) {\r\n            case cc.macro.KEY.a:\r\n                this.node.emit('moveRow', false);\r\n                break;\r\n            case cc.macro.KEY.d:\r\n                this.node.emit('moveRow', true);\r\n                break;\r\n            case cc.macro.KEY.w:\r\n                this.node.emit('moveCollumn', false);\r\n                break;\r\n            case cc.macro.KEY.s:\r\n                this.node.emit('moveCollumn', true);\r\n                break;\r\n            default:\r\n                this._canMove = true;\r\n                break;\r\n\r\n        }\r\n    },\r\n\r\n    _reset() {\r\n        cc.log('keyboard reset');\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this._onKeyDown, this);\r\n    },\r\n\r\n    onLoad() {\r\n        this._canMove = true;\r\n        this.node.on('canMove', (value = true) => {\r\n            this._canMove = value;\r\n        }, this);\r\n        this.node.on('reset', this._reset, this);\r\n        this.node.on('setInput', (touch) => {\r\n            if (touch) this._canMove = false;\r\n\r\n        }, this)\r\n        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this._onKeyDown, this);\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}