{"version":3,"sources":["soundScript.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","soundButtonText","Label","swipeSound","AudioSource","combineSound","_muted","onClickSound","node","children","forEach","element","getComponent","volume","string","_playSound","data","play","onLoad","instance","registerEvent","bind","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiBL,GAAGM,KADZ;AAERC,oBAAYP,GAAGQ,WAFP;AAGRC,sBAAcT,GAAGQ,WAHT;AAIRE,gBAAQ;AAJA,KAHP;;AAUL;;AAEAC,kBAAc,wBAAY;AACtB,YAAI,CAAC,KAAKD,MAAV,EAAkB;AACd,iBAAKE,IAAL,CAAUC,QAAV,CAAmBC,OAAnB,CAA2B;AAAA,uBAAWC,QAAQC,YAAR,CAAqBhB,GAAGQ,WAAxB,EAAqCS,MAArC,GAA8C,CAAzD;AAAA,aAA3B;AACA,iBAAKZ,eAAL,CAAqBa,MAArB,GAA8B,YAA9B;AACA,iBAAKR,MAAL,GAAc,IAAd;AACA;AACH;AACD,aAAKE,IAAL,CAAUC,QAAV,CAAmBC,OAAnB,CAA2B;AAAA,mBAAWC,QAAQC,YAAR,CAAqBhB,GAAGQ,WAAxB,EAAqCS,MAArC,GAA8C,CAAzD;AAAA,SAA3B;AACA,aAAKZ,eAAL,CAAqBa,MAArB,GAA8B,WAA9B;AACA,aAAKR,MAAL,GAAc,KAAd;AACA;AACH,KAvBI;;AAyBLS,gBAAY,oBAAUC,IAAV,EAAgB;AACxB,YAAIA,SAAS,OAAb,EAAsB;AAClB,iBAAKb,UAAL,CAAgBc,IAAhB;AACA;AACH;AACD,YAAID,SAAS,SAAb,EAAwB;AACpB,iBAAKX,YAAL,CAAkBY,IAAlB;AACA;AACH;AACJ,KAlCI;;AAoCLC,UApCK,oBAoCI;AACLxB,gBAAQyB,QAAR,CAAiBC,aAAjB,CAA+B,OAA/B,EAAwC,KAAKL,UAAL,CAAgBM,IAAhB,CAAqB,IAArB,CAAxC;AACH,KAtCI;AAwCLC,SAxCK,mBAwCG,CAEP;AA1CI;;AA4CL;AA5CJ","file":"soundScript.js","sourceRoot":"../../../../assets/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst Emitter = require('mEmitter');\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        soundButtonText: cc.Label,\n        swipeSound: cc.AudioSource,\n        combineSound: cc.AudioSource,\n        _muted: false,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onClickSound: function () {\n        if (!this._muted) {\n            this.node.children.forEach(element => element.getComponent(cc.AudioSource).volume = 0);\n            this.soundButtonText.string = 'Sounds OFF';\n            this._muted = true;\n            return;\n        }\n        this.node.children.forEach(element => element.getComponent(cc.AudioSource).volume = 1);\n        this.soundButtonText.string = 'Sounds ON';\n        this._muted = false;\n        return;\n    },\n\n    _playSound: function (data) {\n        if (data === 'swipe') {\n            this.swipeSound.play();\n            return;\n        }\n        if (data === 'combine') {\n            this.combineSound.play();\n            return;\n        }\n    },\n\n    onLoad() {\n        Emitter.instance.registerEvent('sound', this._playSound.bind(this));\n    },\n\n    start() {\n\n    },\n\n    // update (dt) {},\n});\n"]}