{"version":3,"sources":["soundScript.js"],"names":["Emitter","require","cc","Class","extends","Component","properties","soundButtonText","Label","swipeSound","AudioSource","combineSound","_muted","onClickSound","node","children","forEach","element","getComponent","volume","string","_playSound","data","play","onLoad","instance","registerEvent","bind","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,yBAAiBL,GAAGM,KADZ;AAERC,oBAAYP,GAAGQ,WAFP;AAGRC,sBAAcT,GAAGQ,WAHT;AAIRE,gBAAQ;AAJA,KAHP;;AAUL;;AAEAC,kBAAc,wBAAY;AACtB,YAAI,CAAC,KAAKD,MAAV,EAAkB;AACd,iBAAKE,IAAL,CAAUC,QAAV,CAAmBC,OAAnB,CAA2B;AAAA,uBAAWC,QAAQC,YAAR,CAAqBhB,GAAGQ,WAAxB,EAAqCS,MAArC,GAA8C,CAAzD;AAAA,aAA3B;AACA,iBAAKZ,eAAL,CAAqBa,MAArB,GAA8B,YAA9B;AACA,iBAAKR,MAAL,GAAc,IAAd;AACA;AACH;AACD,aAAKE,IAAL,CAAUC,QAAV,CAAmBC,OAAnB,CAA2B;AAAA,mBAAWC,QAAQC,YAAR,CAAqBhB,GAAGQ,WAAxB,EAAqCS,MAArC,GAA8C,CAAzD;AAAA,SAA3B;AACA,aAAKZ,eAAL,CAAqBa,MAArB,GAA8B,WAA9B;AACA,aAAKR,MAAL,GAAc,KAAd;AACA;AACH,KAvBI;;AAyBLS,gBAAY,oBAAUC,IAAV,EAAgB;AACxB,YAAIA,SAAS,OAAb,EAAsB;AAClB,iBAAKb,UAAL,CAAgBc,IAAhB;AACA;AACH;AACD,YAAID,SAAS,SAAb,EAAwB;AACpB,iBAAKX,YAAL,CAAkBY,IAAlB;AACA;AACH;AACJ,KAlCI;;AAoCLC,UApCK,oBAoCI;AACLxB,gBAAQyB,QAAR,CAAiBC,aAAjB,CAA+B,OAA/B,EAAwC,KAAKL,UAAL,CAAgBM,IAAhB,CAAqB,IAArB,CAAxC;AACH,KAtCI;AAwCLC,SAxCK,mBAwCG,CAEP;AA1CI;;AA4CL;AA5CJ","file":"soundScript.js","sourceRoot":"..\\..\\..\\..\\assets\\script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst Emitter = require('mEmitter');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        soundButtonText: cc.Label,\r\n        swipeSound: cc.AudioSource,\r\n        combineSound: cc.AudioSource,\r\n        _muted: false,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onClickSound: function () {\r\n        if (!this._muted) {\r\n            this.node.children.forEach(element => element.getComponent(cc.AudioSource).volume = 0);\r\n            this.soundButtonText.string = 'Sounds OFF';\r\n            this._muted = true;\r\n            return;\r\n        }\r\n        this.node.children.forEach(element => element.getComponent(cc.AudioSource).volume = 1);\r\n        this.soundButtonText.string = 'Sounds ON';\r\n        this._muted = false;\r\n        return;\r\n    },\r\n\r\n    _playSound: function (data) {\r\n        if (data === 'swipe') {\r\n            this.swipeSound.play();\r\n            return;\r\n        }\r\n        if (data === 'combine') {\r\n            this.combineSound.play();\r\n            return;\r\n        }\r\n    },\r\n\r\n    onLoad() {\r\n        Emitter.instance.registerEvent('sound', this._playSound.bind(this));\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}